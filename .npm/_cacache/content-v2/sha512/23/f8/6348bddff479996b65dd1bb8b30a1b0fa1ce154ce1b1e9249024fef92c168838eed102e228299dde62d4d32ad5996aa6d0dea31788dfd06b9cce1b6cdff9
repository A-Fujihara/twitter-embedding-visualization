{"_id":"@matteo.collina/tspl","_rev":"3-59fa47cfb87f4bb1d0130e50b6fadcee","name":"@matteo.collina/tspl","dist-tags":{"latest":"0.2.0"},"versions":{"0.1.0":{"name":"@matteo.collina/tspl","version":"0.1.0","keywords":["node:test","plan","assert"],"author":{"name":"Matteo Collina","email":"hello@matteocollina.com"},"license":"MIT","_id":"@matteo.collina/tspl@0.1.0","maintainers":[{"name":"matteo.collina","email":"hello@matteocollina.com"}],"homepage":"https://github.com/mcollina/tspl#readme","bugs":{"url":"https://github.com/mcollina/tspl/issues"},"dist":{"shasum":"1713a8227e41525dfda7393531395b7c9476410f","tarball":"https://registry.npmjs.org/@matteo.collina/tspl/-/tspl-0.1.0.tgz","fileCount":10,"integrity":"sha512-2aMJfoKtuOBosiDEqwJEjjfbfm1q4A621bn8jkuZth6Z6c3AfAp4sS2Y+MnzPEAp7YhiHAvyLp488VB84p3w5A==","signatures":[{"sig":"MEUCIQCNyjAIMa9v4am7HfskvSYJ3kUxN6gzvy7VEbtnYN6YkgIgf/B1IfvevuNB+KNNvzOh69k0Pee+wrCl1i66Ng26Foc=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":7292},"main":"tspl.js","types":"tspl.d.ts","gitHead":"0022f30e0f6dd31ea4726ecb1850c1cf933463db","scripts":{"test":"standard && node --test test.js && tsd"},"_npmUser":{"name":"matteo.collina","email":"hello@matteocollina.com"},"repository":{"url":"git+https://github.com/mcollina/tspl.git","type":"git"},"_npmVersion":"9.5.1","description":"Count the number of assertions for node:test","directories":{},"_nodeVersion":"18.16.1","dependencies":{},"_hasShrinkwrap":false,"devDependencies":{"tsd":"^0.28.1","standard":"^17.1.0","@types/node":"^20.4.2"},"_npmOperationalInternal":{"tmp":"tmp/tspl_0.1.0_1689953483323_0.9044068409367836","host":"s3://npm-registry-packages"}},"0.1.1":{"name":"@matteo.collina/tspl","version":"0.1.1","keywords":["node:test","plan","assert"],"author":{"name":"Matteo Collina","email":"hello@matteocollina.com"},"license":"MIT","_id":"@matteo.collina/tspl@0.1.1","maintainers":[{"name":"matteo.collina","email":"hello@matteocollina.com"}],"homepage":"https://github.com/mcollina/tspl#readme","bugs":{"url":"https://github.com/mcollina/tspl/issues"},"dist":{"shasum":"5aed58a28330e78f73662911af79f3b0ff7b01b3","tarball":"https://registry.npmjs.org/@matteo.collina/tspl/-/tspl-0.1.1.tgz","fileCount":10,"integrity":"sha512-jJFj8RzdExJGmZOVbyMViYkEgpyxqj/2InjRqnmFvYss+cXQEg47dTjADvL+ZGFRsJf6w5mtI5F+cNUBq1MVvA==","signatures":[{"sig":"MEUCIQD/YQvX8P4Fv34+rzWNn2Qx8dI8GS4TPbESS9Wm39euTAIgPQzMnoO5fyuqTFYUZJNtCsmtso4M95AGgGc6WGx0VUc=","keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA"}],"unpackedSize":7286},"main":"tspl.js","types":"tspl.d.ts","gitHead":"582f3f559884da48e0c3fe21c70ca31575dc3364","scripts":{"test":"standard && node --test test.js && tsd"},"_npmUser":{"name":"matteo.collina","email":"hello@matteocollina.com"},"repository":{"url":"git+https://github.com/mcollina/tspl.git","type":"git"},"_npmVersion":"10.2.3","description":"Count the number of assertions for node:test","directories":{},"_nodeVersion":"20.10.0","dependencies":{},"_hasShrinkwrap":false,"devDependencies":{"tsd":"^0.30.0","standard":"^17.1.0","@types/node":"^20.4.2"},"_npmOperationalInternal":{"tmp":"tmp/tspl_0.1.1_1704058363307_0.4718245114317272","host":"s3://npm-registry-packages"}},"0.2.0":{"name":"@matteo.collina/tspl","version":"0.2.0","description":"Count the number of assertions for node:test","main":"tspl.js","types":"tspl.d.ts","scripts":{"test":"standard && node --test test.js && tsd"},"keywords":["node:test","plan","assert"],"author":{"name":"Matteo Collina","email":"hello@matteocollina.com"},"repository":{"type":"git","url":"git+https://github.com/mcollina/tspl.git"},"license":"MIT","dependencies":{},"devDependencies":{"@types/node":"^20.4.2","standard":"^17.1.0","tsd":"^0.30.0"},"_id":"@matteo.collina/tspl@0.2.0","gitHead":"90b5cd0ad7214337e621d3dd6fb60fca75b9d9f7","bugs":{"url":"https://github.com/mcollina/tspl/issues"},"homepage":"https://github.com/mcollina/tspl#readme","_nodeVersion":"22.14.0","_npmVersion":"10.9.2","dist":{"integrity":"sha512-VEjxrBW/NTz2bMSUx6DFP4KH2nVspTBEbV/082Qsqi3lQ0fqK5m4KVHzqm/Noy3OJmpGR1lm2ps/gvERVRpsaA==","shasum":"5b025e6bc27af2d58e5accbcabdf502dbda674fc","tarball":"https://registry.npmjs.org/@matteo.collina/tspl/-/tspl-0.2.0.tgz","fileCount":10,"unpackedSize":7572,"signatures":[{"keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U","sig":"MEYCIQDOFdrx0lLkcsbsyRi9NJXUZ8OoFDlWr8jEhT+ZgRH0TgIhAL1SJlfDxxW4uxuxo6jRO+F9GJmiaP+8r1GlNEN6PkJ8"}]},"_npmUser":{"name":"matteo.collina","email":"hello@matteocollina.com"},"directories":{},"maintainers":[{"name":"matteo.collina","email":"hello@matteocollina.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages-npm-production","tmp":"tmp/tspl_0.2.0_1742306768680_0.3691098414107894"},"_hasShrinkwrap":false}},"time":{"created":"2023-07-21T15:31:23.202Z","modified":"2025-03-18T14:06:09.058Z","0.1.0":"2023-07-21T15:31:23.504Z","0.1.1":"2023-12-31T21:32:43.488Z","0.2.0":"2025-03-18T14:06:08.850Z"},"bugs":{"url":"https://github.com/mcollina/tspl/issues"},"author":{"name":"Matteo Collina","email":"hello@matteocollina.com"},"license":"MIT","homepage":"https://github.com/mcollina/tspl#readme","keywords":["node:test","plan","assert"],"repository":{"type":"git","url":"git+https://github.com/mcollina/tspl.git"},"description":"Count the number of assertions for node:test","maintainers":[{"name":"matteo.collina","email":"hello@matteocollina.com"}],"readme":"# tspl\n\nTest Planner for [`node:test`](https://nodejs.org/api/test.html)\nand [`node:assert`](https://nodejs.org/api/assert.html).\nIt fails your tests if the number of assertions is not met,\nor the test plan was not completed.\n\n## Installation\n\n```bash\nnpm i @matteo.collina/tspl --save-dev\n```\n\n(You'll also need `@types/node`)\n\n## Example\n\n```js\nimport test from 'node:test';\nimport { tspl } from '@matteo.collina/tspl';\n\ntest('tspl', (t) => {\n  const { strictEqual } = tspl(t, { plan: 1 });\n  strictEqual(1, 1);\n});\n```\n\n### Typescript\n\n```typescript\nimport test from 'node:test';\nimport { tspl, type Plan } from '@matteo.collina/tspl';\n\ntest('tspl', (t) => {\n  const p: Plan = tspl(t, { plan: 1 });\n  p.strictEqual(1, 1);\n});\n```\n\n## API\n\n### __`tspl(t: TestContext, options): Plan`__\n\nCreate a plan for the current test.\n\nHere are the options:\n\n* `plan`: how many assertions are planned\n\n### `Plan`\n\nThe plan includes all exports from [`node:assert`](https://nodejs.org/api/assert.html),\nas well as:\n\n* `end()`: a function to complete the plan\n* `completed`: a promise that will resolve when the plan is completed.\n\n## License\n\nMIT\n","readmeFilename":"README.md"}